# Hito 3: Diseño de microservicios

## Descripción

En este hito vamos a crear un microservicio sobre la base de la funcionalidad desarrollada en en el hito anterior e integrar otros microservicios disponibles que nos puedan ayudar en el desarrollo de nuestra aplicación.


## Explicación

El objetivo principal de este hito es diseñar un microservicio para la funcionalidad base de la aplicación. El acceso al microservicio debe hacerse a través de una API REST consistente en una serie de rutas. Hay que testear la API exhaustivamente usando una biblioteca específica que provea el microservicio o bien una biblioteca genérica. Además, hay que crear la infraestructura necesaria para ejecutar el microservicio. Por último, hay que añadir un sistema de logs para registrar la actividad de la API, lo que puede realizarse como otro microservicio o utilizando alguna librería disponible.  

Se debe crear un fichero de construcción (puede estar basado en el del hito anterior) añadiendo las tareas necesarias para generar los ficheros que se vayan a desplegar a partir de los fuentes e instalar los ficheros generados anteriormente. Esto permite usar el sistema de integración continua para hacer una ejecución de prueba. En general, todas las tareas que se ejecuten desde el sistema de integración continua deberán lanzar órdenes de la herramienta que ejecute tareas.

Un objetivo secundario de este hito es poner en práctica las principales técnicas usadas hoy en día para diseño de aplicaciones web basadas principalmente en interfaces REST. Otro objetivo secundario es aprender a usar en *producción* GitHub y otras herramientas de desarrollo colaborativo y liberar el resultado del proyecto.

En este hito es cuando el producto mínimo viable del *backend* del proyecto empieza a tomar forma. Es esencial también que la API esté separada de la lógica de negocio, y que incluya únicamente aquellas peticiones que se prevé que efectivamente se vayan a hacer desde un cliente; en caso contrario, simplemente no se deben exponer mediante una API.

Conviene también que en este punto la aplicación tenga una lógica de negocio *real* más allá de almacenar y recuperar información. Toda la lógica de negocio, al menos que se vaya a implementar, debería estar prácticamente completa.

## Entrega de la práctica

A la finalización de este hito, el código que se entregue tiene que estar en el siguiente estado:

- Debe tener la estructura general de las clases que se vayan a servir con la API correcta, incluyendo en su caso diseño de excepciones que puedan ocurrir en el curso normal de ejecución de la aplicación.
- Debe integrar un sistema de logs para registrar la actividad de la API. 
- No es necesario incluir ningún tipo de acceso a datos, pero si lo hay debe hacerse a través de una *single source of truth* usando inyección de dependencias. El test de la misma se debe hacer de la misma forma.
- No es necesario que haya una "aplicación" lanzable. El código debe ser única y exclusivamente el necesario para testear las rutas, y es conveniente que, en el diseño por capas, se separe la lógica de negocio de la lógica del API y esta, a su vez, del programa o aplicación desde las que se van a usar ambos.

La entrega se hará con un *pull request*, añadiendo al fichero de este hito el nombre del proyecto y un enlace al mismo.


## Valoración

La puntuación de este hito se distribuirá conforme la siguiente rúbrica:

- 2 puntos: Justificación técnica del framework elegido para el microservicio.
- 4 puntos: Diseño en general de la API, las rutas (o tareas), tests y documentación de todo, de forma que reflejen correctamente un diseño por capas que desacopla la lógica de negocio de la API.
- 2 puntos: Uso de logs para registrar la actividad de la API, incluyendo la justificación del framework y herramienta elegida.
- 2 puntos: Correcta ejecución de los tests.
